<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:j="http://java.sun.com/jsp/jstl/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">
<h:body>
	<script type="text/javascript">
		function showModal() {
			$('#myModal').modal('show');
		}
	</script>
	<h:form id="formProyecto">
	<h:panelGrid columns="4" width="100%">
	
<h:outputLabel value="Nombre Proyecto: *" for="nombre" />
		<p:inputText id="nombre" value="#{proyectoBean.proyectoDTO.nombre}"
			required="true"/>

		<h:outputLabel value="Fecha Creacion *" for="fechaCreacionProyecto" />		
		<p:calendar id="fechaCreacionProyecto" 
		            readonlyInput="true"
			        required="true" 
			        navigator="true"
			        pattern="dd/MM/yyyy" 
			        yearRange="1900:c"
			        value="#{proyectoBean.proyectoDTO.fechaCreacion}" />
		<p:message for="fechaCreacionProyecto" />

		<h:outputLabel value="Estrategia" for="estrategiaProyecto" />
		<p:inputTextarea id="estrategiaProyecto" value="#{proyectoBean.proyectoDTO.estrategia}"
			required="true" />

		<h:outputLabel value="Lider de automatizaci&oacute;n *" for="lider" />
		<p:selectOneMenu id="lider"
						 value="#{proyectoBean.proyectoDTO.usuarioDTO}"
						 style="width:125px"
						 converter="#{usuarioConverter}">
			<f:selectItems
					value="#{proyectoBean.usuarioDTOs}"
					var="usuario"
					itemLabel="#{usuario.nombre}"
					itemValue="#{usuario}"/>
		</p:selectOneMenu>


	</h:panelGrid>
	
	<p:commandButton value="Guardar" id="botonGuardar" actionListener="#{proyectoBean.guardarProyecto}" ajax="false"/>

</h:form>
	<j:if test="#{proyecto.id != null}">
		<p:separator></p:separator>

		<h5>Funcionalidad</h5>

		<button type="button" class="btn btn-primary btn-lg"
			data-toggle="modal" data-target="#myModal">Agregar
			funcionalidad</button>

		<p:dataTable>
			<p:column headerText="Funcionalidad">
				<h:outputText value="1" />
			</p:column>
			<p:column headerText="N&uuml;mero de CP">
				<h:outputText value="prueba" />
			</p:column>
			<p:column headerText="Ver">
				<p:commandButton process="singleDT" update=":form:carDetail"
					icon="ui-icon-search" value="Ver" />
			</p:column>

		</p:dataTable>
		<p:separator />

		<!-- Modal -->
		<div class="modal fade" id="myModal" tabindex="-1" role="dialog"
			aria-labelledby="myModalLabel">
			<div class="modal-dialog" role="document">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal"
							aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>
						<h4 class="modal-title" id="myModalLabel">Caso de Prueba</h4>
					</div>
					<div class="modal-body">
						<h:panelGrid columns="4" width="100%">
							<h:outputLabel value="Nombre de la funcionalidad *"
								for="nombreFuncionalidad" />
							<p:inputText id="nombreFuncionalidad" value="tarea de prueba"
								required="true" />

							<h:outputLabel value="Complejidad *" for="complejidad" />
							<p:selectOneMenu id="complejidad" value="" style="width:125px">
								<f:selectItem itemLabel="Seleccionar" itemValue="" />
								<f:selectItem itemLabel="Alta" itemValue="1" />
								<f:selectItem itemLabel="Media" itemValue="2" />
								<f:selectItem itemLabel="Baja" itemValue="3" />
							</p:selectOneMenu>


						</h:panelGrid>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-default" data-dismiss="modal">Cancelar</button>
						<button type="button" class="btn btn-primary">Guardar</button>
					</div>
				</div>
			</div>
		</div>
	</j:if>
</h:body>
</html>